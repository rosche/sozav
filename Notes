- $Id: Notes,v 1.5 2008-08-01 13:50:48 roderick Exp $

- rules to remember

    - 5 ruby limit
    - diamond from elixir goes to the pentagon, only activated on your
      turn
    - faq says
	- The phases 3a, 3b and 3c may be done in any order, although you may
	  NOT split any of the phases, like selling
	  gems (3a), increase gems knowledge (3b) and then buy gems (3a again).
      but it also earlier says
    - player 1 penalty applies if anybody has 10 points (eg another
      player won an auction on player 1's turn and player 1 goes again)?
      It says this in rules 2.0.  It would also apply to poisitions 5
      and 6, but position 2's penalty only applies if position 2 has 10
      points.

- questions
    - are gems limited?
    - is dust limited?
    - can't hand limit go over 13 if you have multiple crystal balls?
    - what happens if you run out of cards?

- todo
    - undo
    - show things you can afford to do
    - search for die/croak, deal more gracefully with some of them
    - many assertion-type tests

- user interface

    - network interface
    	- inetd version, just like stdio version
	- standard runner with -M...Game -e ...Game->run or such
    	- prompt about number of players, options, character selection
    - y/n/Y/N questions (Y == y and do this from now on)
    - list of options (enchant gem, auction, disactivate gems, etc)
    	- some with sublist of options (which type to enchant, what to
    	  auction, what to disactivate)
    - numeric (auction)
    - informational message
    	- but to display things graphically you'll need this to be
    	  non-textual as well
    - error from something you tried to do

- variations to implement

    - select character
    - multiple of same character
    - 1 dust chits
    - which 1/2/3/4/5/6 cards to use
    - no randomness in cards, always average
    - reduced randomness in cards
    - no or reduced randomness in cards, but only for X rounds
    	- perhaps pick out 3+7 sapphires, include them when reshuffling
    - changes in Z-Man version
	- druid gets or doesn't get 3rd level bonus
    	- 9 sages cards turn into dust if you can't buy that type of gem
	  (Or produce that card?  What if you had a crystal of
	  protection, eg?)
    - restricted order of actions on your turn
    - bid for characters http://www.boardgamegeek.com/thread/29499
    - fire 3 ruby for any player
    - no druid fire 3 ruby
    - don't turn 9 sages cards into dust
    - no druid except in a 6 player game

- algorithm for picking energy

Hi, Dominus.  I'm writing a version of the board game The Scepter of
Zavandor (http://www.boardgamegeek.com/game/13884) and I could use some
help with an algorithm.  The problem seems tricky to me, but I wouldn't
be surprised if it had a name and a web site dedicated to it.  I was
hoping you might point me in the right direction.

The player has a group of items which have 2 non-negative integer
properties I'll call $cash and $size.  At certain points during the
game the user isn't allowed to have more than a certain sum of $size
from all their items, so generally you want to hold on to items which
have a high $cash/$size ratio.

There are 2 types of subset picking I need to do with these items.  I'd
guess these are related and might be solved with the same algorithm with
different parameters, but I'm not sure.

    1. When buying something you have to pay a certain amount of
       $cash, and you can get change but only in some (very poor
       ratio) demoninations.  After paying and getting your change
       you'd like to have the smallest total $size you can.

    2. When getting down to your $size limit you want to do it while
       holding on to as much $cash as possible.  This part isn't as
       important (doesn't come up often) because of some other factors
       in the game.

As an added wrinkle, 1 $cash change isn't always available, so you want
to try not to lose that $1 if possible.  (This is an option which will
be true or false for the whole game.)  If the algorithm had to ignore
this part to be simpler that would be okay.

To make things concrete, the items available are like this:

    $cash       $size   ratio   type
    -----       -----   -----   -------------
    1           1       1       dust (used as change)
    2           1       2       dust (used as change)
    5           2       2.5     dust (used as change)
    10          3       3.3     dust (used as change)
    3-17        1       3-17    card
    20-60       3       6.7-20  concentrated

If you can share any thoughts about this I'd be very grateful.
